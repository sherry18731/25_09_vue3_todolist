import{r,c as i,o as m,a as t,b as d,w as u,d as p,e as c,f as k,v as g,u as _,g as w}from"./index-C4G6iZLG.js";import{l as C}from"./api-Cd5xPAUf.js";const x={id:"loginPage",class:"bg-blue"},h={class:"conatiner loginPage vhContainer"},y={class:"side"},L={class:"formControls",action:"index.html"},V={key:0},R={__name:"LoginView",setup(N){const f=_(),s=r(""),l=r(""),v=async()=>{try{const e=await C(s.value,l.value),{token:o,exp:a}=e.data;document.cookie=`vue3-todolist-token=${o}; expires=${a}`,alert("登入成功"),f.push("/todolist")}catch(e){const o=e?.response?.data?.message||e.message||"登入失敗";alert(o)}};return(e,o)=>{const a=p("router-link"),b=p("RouterLink");return m(),i("div",x,[t("div",h,[t("div",y,[d(a,{to:"/register"},{default:u(()=>[...o[2]||(o[2]=[t("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:"Logo"},null,-1)])]),_:1}),o[3]||(o[3]=t("img",{class:"d-m-n",src:"https://firebasestorage.googleapis.com/v0/b/homework-b5f67.appspot.com/o/todolist.svg?alt=media&token=a75aa7a4-f3f1-4bce-8a47-3fec34eaa474",alt:"workImg"},null,-1))]),t("div",null,[t("form",L,[o[5]||(o[5]=t("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1)),o[6]||(o[6]=t("label",{class:"formControls_label",for:"email"},"Email",-1)),c(t("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=n=>s.value=n)},null,512),[[g,s.value]]),s.value?k("",!0):(m(),i("span",V,"此欄位不可留空")),o[7]||(o[7]=t("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),c(t("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[1]||(o[1]=n=>l.value=n)},null,512),[[g,l.value]]),t("input",{class:"formControls_btnSubmit",type:"button",onclick:"javascript:location.href='#todoListPage'",value:"登入",onClick:v}),d(b,{class:"formControls_btnLink",to:"/register"},{default:u(()=>[...o[4]||(o[4]=[w("註冊帳號",-1)])]),_:1})])])])])}}};export{R as default};
